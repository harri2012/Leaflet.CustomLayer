{"version":3,"file":"Leaflet.CustomLayer.js","sources":["../src/Leaflet.CustomLayer.js"],"sourcesContent":["import L from \"leaflet\";\n\n/*\n// Exmaple\nvar customLayer = new L.customLayer({\n  el: document.createElement(element), // The DomElement object to display\n  zooms: [0, 18], // Set the visibility level, [min, max]\n  opacity: 1, // The opacity of the layer, [0,1]\n  visible: true, // Is the layer visible\n  zIndex: 120, // The zIndex of the layer\n  alwaysRender: true // Whether to redraw during zoom panning, complex drawing suggestions are set to false\n});\n\ncustomLayer.layerWillMount = function() {\n  console.log(\"layerWillMount\");\n};\n\ncustomLayer.layerDidMount = function() {\n  console.log(\"layerDidMount\");\n};\n\ncustomLayer.layerRender = function() {\n  console.log(\"layerRender\");\n};\n\ncustomLayer.layerWillUnmount = function() {\n  console.log(\"WillUnmount\");\n};\n\ncustomLayer.layerDidUnmount = function() {\n  console.log(\"DidUnmount\");\n}\n\ncustomLayer.addTo(map);\n*/\n\nclass CustomLayer extends (L.Layer ? L.Layer : L.Class) {\n  constructor(definition) {\n    super(definition);\n\n    const _definition = {\n      el: null, // The DomElement object to display\n      zooms: [0, 18], // Set the visibility level, [min, max]\n      opacity: 1, // The opacity of the layer, [0,1]\n      visible: true, // Is the layer visible\n      zIndex: 120, // The zIndex of the layer\n      alwaysRender: true, // Whether to redraw during zoom panning, complex drawing suggestions are set to false\n      layerWillMount: null, // Lifecycle - before adding a layer\n      layerDidMount: null, // Lifecycle - after the layer is added\n      layerRender: null, // Lifecycle - render\n      layerWillUnmount: null, // Lifecycle - before layer removal\n      layerDidUnmount: null, // Lifecycle - layer has been removed\n      ...definition\n    };\n\n    const _options = {\n      el: _definition.el,\n      opacity: _definition.opacity,\n      visible: _definition.visible,\n      zIndex: _definition.zIndex,\n      zooms: _definition.zooms,\n      alwaysRender: _definition.alwaysRender\n    };\n    L.setOptions(this, _options);\n\n    if (typeof _definition.layerWillMount === \"function\") {\n      this.layerWillMount = _definition.layerWillMount;\n    }\n    if (typeof _definition.layerDidMount === \"function\") {\n      this.layerDidMount = _definition.layerDidMount;\n    }\n    if (typeof _definition.layerRender === \"function\") {\n      this.layerRender = _definition.layerRender;\n    }\n    if (typeof _definition.layerWillUnmount === \"function\") {\n      this.layerWillUnmount = _definition.layerWillUnmount;\n    }\n    if (typeof _definition.layerDidUnmount === \"function\") {\n      this.layerDidUnmount = _definition.layerDidUnmount;\n    }\n  }\n\n  // Built-in life cycle\n  beforeAdd(map) {\n    this._map = map;\n\n    // register Events\n    this._registerEvents = false;\n    this._eventType = \"\";\n    this._zoomVisible = true;\n\n    // --If the Element instance already exists, simulate a position offset eventã€‚\n    // (the map position changes when the layer is removed from the map, and if the layer is added to the map at a time, it will deviate)\n    if (this.getElement()) {\n      this._animateZoom({\n        center: this._map.getCenter(),\n        zoom: this._map.getZoom(),\n        noUpdate: undefined,\n        type: \"zoomanim\",\n        target: this._map,\n        sourceTarget: this._map\n      });\n    }\n\n    this.layerWillMount && this.layerWillMount.bind(this)();\n  }\n\n  getEvents() {\n    this._registerEvents = true;\n    // Layer trigger priority\n    // move: movestart -> move -> moveend\n    // zoom: zoomstart -> movestart -> zoomanim -> zoom -> move -> zoomend -> moveend\n    // resize: move -> resize -> moveend\n    let events = {\n      resize: this._onLayerResize,\n      movestart: this._onLayerMovestart,\n      move: this._onLayerMove,\n      moveend: this._onLayerMoveend,\n      zoomstart: this._onLayerZoomstart,\n      zoom: this._onLayerZoom,\n      zoomend: this._onLayerZoomend\n    };\n    if (this._map.options.zoomAnimation && L.Browser.any3d) {\n      events.zoomanim = this._onLayerZoomanim;\n    }\n\n    return events;\n  }\n\n  onAdd(map) {\n    this._map = map;\n\n    const el = this.getElement();\n\n    this._addElement(el);\n\n    this.layerDidMount && this.layerDidMount.bind(this)();\n\n    if (!this.options.visible) {\n      this.hide();\n    }\n\n    this._needRedraw();\n  }\n\n  onRemove(map) {\n    this.layerWillUnmount && this.layerWillUnmount.bind(this)();\n\n    this._removeElement(this.getElement());\n\n    if (this._registerEvents) {\n      this._registerEvents = false;\n      this._map.off(this.getEvents(), this);\n    }\n    this._map.off({ zoom: this._onZoomVisible }, this);\n\n    this.layerDidUnmount && this.layerDidUnmount.bind(this)();\n  }\n\n  _render() {\n    this.layerRender && this.layerRender.bind(this)();\n    this._frame = null;\n  }\n\n  // Built-in Event\n  _onLayerResize(event) {\n    if (this._eventType !== \"\") return;\n    this._eventType = \"resize\";\n    if (this._eventType !== \"resize\") return;\n    // resize\n    this._setElementSize(event.newSize);\n    this._setElementPosition();\n    this._render();\n\n    this._eventType = \"\";\n  }\n  _onLayerMovestart(event) {\n    if (this._eventType !== \"\") return;\n    this._eventType = \"move\";\n    if (this._eventType !== \"move\") return;\n    // movestart\n  }\n  _onLayerMove(event) {\n    if (this._eventType !== \"move\") return;\n    if (!this.options.alwaysRender) return;\n    // move\n    this._setElementPosition();\n    this._render();\n  }\n  _onLayerMoveend(event) {\n    if (this._eventType !== \"move\") return;\n    // moveend\n    this._setElementPosition();\n    this._render();\n\n    this._eventType = \"\";\n  }\n  _onLayerZoomstart(event) {\n    if (this._eventType !== \"\") return;\n    this._eventType = \"zoom\";\n    if (this._eventType !== \"zoom\") return;\n    // zoomstart\n  }\n  _onLayerZoomanim(event) {\n    if (this._eventType !== \"zoom\") return;\n    // zoomanim\n    this._animateZoom(event);\n  }\n  _onLayerZoom(event) {\n    if (this._eventType !== \"zoom\") return;\n    if (!this.options.alwaysRender) return;\n    // zoom\n    if (!this._isZoomVisible()) {\n      this._zoomHide();\n      this._eventType = \"\";\n      return;\n    }\n\n    this._setElementPosition();\n    this._render();\n  }\n  _onLayerZoomend(event) {\n    if (this._eventType !== \"zoom\") return;\n    // zoomend\n    if (!this._isZoomVisible()) {\n      this._zoomHide();\n      this._eventType = \"\";\n      return;\n    }\n\n    this._setElementPosition();\n    this._render();\n\n    this._eventType = \"\";\n  }\n  _onZoomVisible() {\n    if (this._isZoomVisible()) {\n      this._zoomShow();\n    } else {\n      this._zoomHide();\n    }\n  }\n\n  // Built-in Methods\n  _needRedraw() {\n    if (!this._frame) {\n      this._frame = L.Util.requestAnimFrame(this._render, this);\n    }\n    return this;\n  }\n\n  _addElement(el) {\n    console.log(el);\n\n    const size = this._map.getSize();\n    this._setElementSize(size);\n\n    this.setOpacity(this.options.opacity);\n    this.setZIndex(this.options.zIndex);\n\n    const animated = this._map.options.zoomAnimation && L.Browser.any3d;\n    L.DomUtil.addClass(el, \"leaflet-layer\");\n    L.DomUtil.addClass(el, `leaflet-zoom-${animated ? \"animated\" : \"hide\"}`);\n\n    if (!this._registerEvents) {\n      this._map.on(this.getEvents(), this);\n    }\n\n    if (!this.options.visible) {\n      this._map.off(this.getEvents(), this);\n      return;\n    }\n\n    this._map.getPanes().overlayPane.appendChild(el);\n  }\n\n  _removeElement(el) {\n    if (this._frame) {\n      L.Util.cancelAnimFrame(this._frame);\n      this._frame = null;\n    }\n\n    try {\n      this._map.getPanes().overlayPane.removeChild(el);\n    } catch (e) {}\n  }\n\n  _setElementSize(size) {\n    const element = this.getElement();\n    element.setAttribute(\"width\", size.x);\n    element.setAttribute(\"height\", size.y);\n    element.style.width = size.x + \"px\";\n    element.style.height = size.y + \"px\";\n  }\n  _setElementPosition(point = [0, 0]) {\n    const topLeft = this._map.containerPointToLayerPoint(point);\n    L.DomUtil.setPosition(this.getElement(), topLeft);\n  }\n\n  // L.DomUtil.setTransform stand-in\n  _setTransform(el, offset, scale) {\n    const pos = offset || new L.Point(0, 0);\n\n    el.style[L.DomUtil.TRANSFORM] =\n      (L.Browser.ie3d\n        ? `translate(${pos.x}px, ${pos.y}px)`\n        : `translate3d(${pos.x}px, ${pos.y}px, 0)`) +\n      (scale ? ` scale(${scale})` : \"\");\n  }\n\n  _animateZoom(e) {\n    let scale = this._map.getZoomScale(e.zoom);\n    // -- different calc of animation zoom  in leaflet 1.0.3 thanks @peterkarabinovic, @jduggan1\n    const offset = L.Layer\n      ? this._map._latLngBoundsToNewLayerBounds(\n          this._map.getBounds(),\n          e.zoom,\n          e.center\n        ).min\n      : this._map\n          ._getCenterOffset(e.center)\n          ._multiplyBy(-scale)\n          .subtract(this._map._getMapPanePos());\n\n    (L.DomUtil.setTransform || this._setTransform)(\n      this.getElement(),\n      offset,\n      scale\n    );\n  }\n\n  _isZoomVisible() {\n    const minZoom = this.options.zooms[0];\n    const maxZoom = this.options.zooms[1];\n    const zoom = this._map.getZoom();\n\n    const isVisible = zoom >= minZoom && zoom <= maxZoom;\n\n    return isVisible;\n  }\n\n  _zoomShow() {\n    if (this._zoomVisible) return;\n    this._zoomVisible = true;\n\n    this._map.off({ zoom: this._onZoomVisible }, this);\n\n    if (!this.options.visible) return;\n    this._map.on(this.getEvents(), this);\n    this._map.getPanes().overlayPane.appendChild(this.getElement());\n    this._setElementPosition();\n    this._render();\n  }\n\n  _zoomHide() {\n    if (!this._zoomVisible) return;\n    this._zoomVisible = false;\n\n    this._map.off(this.getEvents(), this);\n    this._map.on({ zoom: this._onZoomVisible }, this);\n\n    try {\n      this._map.getPanes().overlayPane.removeChild(this.getElement());\n    } catch (e) {}\n  }\n\n  // API\n  addTo(map) {\n    map.addLayer(this);\n    return this;\n  }\n\n  getElement() {\n    return this.options.el;\n  }\n\n  setElement(element) {\n    let oldEl = this.getElement();\n    this.options.el = element;\n\n    this._removeElement(oldEl);\n    this._addElement(element);\n\n    this._setElementPosition();\n    this._render();\n    return element;\n  }\n\n  getOpacity() {\n    return this.options.opacity;\n  }\n\n  setOpacity(opacity) {\n    this.getElement().style.opacity = this.options.opacity = opacity;\n    return opacity;\n  }\n\n  getZIndex() {\n    return this.options.zIndex;\n  }\n\n  setZIndex(zIndex) {\n    this.getElement().style.zIndex = this.options.zIndex = zIndex;\n    return zIndex;\n  }\n\n  show() {\n    if (this.options.visible) return;\n    this.options.visible = true;\n\n    this._map.on({ zoom: this._onZoomVisible }, this);\n    this._onZoomVisible();\n  }\n\n  hide() {\n    if (!this.options.visible) return;\n    this.options.visible = false;\n\n    this._map.off(this.getEvents(), this);\n    this._map.off({ zoom: this._onZoomVisible }, this);\n\n    try {\n      this._map.getPanes().overlayPane.removeChild(this.getElement());\n    } catch (e) {}\n  }\n}\n\nfunction customLayer(definition) {\n  return new CustomLayer(definition);\n}\n\n/**\n * Plugin Props\n */\n\nL.CustomLayer = CustomLayer;\nL.customLayer = customLayer;\n\n/**\n * Exports\n */\n\nexport { CustomLayer };\nexport { customLayer };\nexport default customLayer;\n"],"names":["CustomLayer","definition","_definition","el","zooms","opacity","visible","zIndex","alwaysRender","layerWillMount","layerDidMount","layerRender","layerWillUnmount","layerDidUnmount","_options","L","setOptions","Layer","Class","map","_map","_registerEvents","_eventType","_zoomVisible","this","getElement","_animateZoom","center","getCenter","zoom","getZoom","noUpdate","undefined","type","target","sourceTarget","bind","events","resize","_onLayerResize","movestart","_onLayerMovestart","move","_onLayerMove","moveend","_onLayerMoveend","zoomstart","_onLayerZoomstart","_onLayerZoom","zoomend","_onLayerZoomend","options","zoomAnimation","Browser","any3d","zoomanim","_onLayerZoomanim","_addElement","hide","_needRedraw","_removeElement","off","getEvents","_onZoomVisible","_frame","event","_setElementSize","newSize","_setElementPosition","_render","_isZoomVisible","_zoomHide","_zoomShow","Util","requestAnimFrame","console","log","size","getSize","setOpacity","setZIndex","animated","DomUtil","addClass","on","getPanes","overlayPane","appendChild","cancelAnimFrame","removeChild","e","element","setAttribute","x","y","style","width","height","point","topLeft","containerPointToLayerPoint","setPosition","offset","scale","pos","Point","TRANSFORM","ie3d","getZoomScale","_latLngBoundsToNewLayerBounds","getBounds","min","_getCenterOffset","_multiplyBy","subtract","_getMapPanePos","setTransform","_setTransform","minZoom","maxZoom","addLayer","oldEl","customLayer"],"mappings":"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"}